(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["about"],{5188:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("main",{staticClass:"col-md-9 ms-sm-auto col-lg-10 px-md-4"},[a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-8"},[a("br"),a("h2",[e._v("Users import")]),a("form",[a("label",{staticClass:"form-label",attrs:{for:"file"}},[e._v("You can import users from CSV file.")]),a("input",{ref:"file",staticClass:"form-control",attrs:{type:"file",id:"file",required:""},on:{change:e.handleFileUpload}}),a("br"),a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"},on:{click:e.submitFile}},[e._v("Submit")])]),a("br")])])])},r=[],i=a("bc3a"),l=a.n(i),n={name:"ImportUsers",components:{axios:l.a},data(){return{file:null,importList:null}},methods:{submitFile(){if(null!=this.file){let e=new FormData,t=localStorage.getItem("authTokenSimpleCrm");e.append("csv",this.file),this.$toast.open({message:"Import started!",type:"warning",position:"top-right",duration:3e5}),l.a.post("/auth/api/import",e,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+t}}).then(e=>{console.log("SUCCESS!!"),this.$toast.clear(),this.$toast.open({message:e.data.message,type:"info",position:"top-right"})}).catch(e=>{console.error(e),this.$toast.open({message:"Oops, something went wrong!",type:"danger",position:"top-right"})})}},handleFileUpload(){this.file=this.$refs.file.files[0]}}},o=n,c=a("2877"),d=Object(c["a"])(o,s,r,!1,null,null,null);t["default"]=d.exports},"58af":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("main",{staticClass:"col-md-9 ms-sm-auto col-lg-10 px-md-4"},[a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-8"},[a("br"),a("h2",[e._v("User add")]),a("UserForm")],1)])])},r=[],i=a("aa74"),l={name:"AddUser",components:{UserForm:i["a"]},data(){return{}}},n=l,o=a("2877"),c=Object(o["a"])(n,s,r,!1,null,null,null);t["default"]=c.exports},a55b:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("main",{staticClass:"form-signin"},[a("form",[a("h1",{staticClass:"h3 mb-3 fw-normal"},[e._v("Please sign in")]),a("label",{staticClass:"visually-hidden",attrs:{for:"inputEmail"}},[e._v("Email address")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.credentials.email,expression:"credentials.email"}],staticClass:"form-control",attrs:{type:"email",id:"inputEmail",placeholder:"Email address",required:"",autofocus:""},domProps:{value:e.credentials.email},on:{input:function(t){t.target.composing||e.$set(e.credentials,"email",t.target.value)}}}),a("label",{staticClass:"visually-hidden",attrs:{for:"inputPassword"}},[e._v("Password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.credentials.pass,expression:"credentials.pass"}],staticClass:"form-control",attrs:{type:"password",id:"inputPassword",placeholder:"Password",required:""},domProps:{value:e.credentials.pass},on:{input:function(t){t.target.composing||e.$set(e.credentials,"pass",t.target.value)}}}),a("button",{staticClass:"w-100 btn btn-lg btn-primary",attrs:{type:"submit"},on:{click:this.login}},[e._v("Sign in")])])])},r=[],i=a("bc3a"),l=a.n(i),n={name:"Login",components:{axios:l.a},data(){return{credentials:{email:"",pass:""}}},methods:{login(){let e=new FormData;e.append("email",this.credentials.email),e.append("password",this.credentials.pass),l.a.post("/auth/api/login",e).then(e=>{localStorage.setItem("authTokenSimpleCrm",e.data.token),this.$router.push({name:"Home"})}).catch(e=>{console.error(e)})}},mounted(){}},o=n,c=(a("d6db"),a("2877")),d=Object(c["a"])(o,s,r,!1,null,null,null);t["default"]=d.exports},aa74:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",[a("label",{staticClass:"visually-hidden",attrs:{for:"inputEmail"}},[e._v("Email address")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.credentials.email,expression:"credentials.email"}],staticClass:"form-control",attrs:{type:"email",id:"inputEmail",placeholder:"Email address",required:"",disabled:e.formEdit},domProps:{value:e.credentials.email},on:{input:function(t){t.target.composing||e.$set(e.credentials,"email",t.target.value)}}}),a("br"),a("label",{staticClass:"visually-hidden",attrs:{for:"inputName"}},[e._v("Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.credentials.name,expression:"credentials.name"}],staticClass:"form-control",attrs:{type:"text",id:"inputName",placeholder:"Name",required:""},domProps:{value:e.credentials.name},on:{input:function(t){t.target.composing||e.$set(e.credentials,"name",t.target.value)}}}),a("br"),e.formEdit?a("label",{attrs:{for:"inputPassword"}},[e._v("Password - leave blank if you don't want to change it.")]):a("label",{staticClass:"visually-hidden",attrs:{for:"inputPassword"}},[e._v("Password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.credentials.pass,expression:"credentials.pass"}],staticClass:"form-control",attrs:{type:"password",id:"inputPassword",placeholder:"Password",required:!e.formEdit},domProps:{value:e.credentials.pass},on:{input:function(t){t.target.composing||e.$set(e.credentials,"pass",t.target.value)}}}),a("br"),a("select",{directives:[{name:"model",rawName:"v-model",value:e.credentials.role,expression:"credentials.role"}],staticClass:"form-select",attrs:{"aria-label":"Default select example",required:""},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.credentials,"role",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"",disabled:""}},[e._v("Select role")]),a("option",{attrs:{value:"user"}},[e._v("User")]),a("option",{attrs:{value:"admin"}},[e._v("Admin")])]),a("br"),a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"},on:{click:e.register}},[e._v("Submit")])])},r=[],i=a("bc3a"),l=a.n(i),n={name:"UserForm",components:{},props:["userData"],data(){return{token:localStorage.getItem("authTokenSimpleCrm"),credentials:{email:"",name:"",pass:"",role:""},formEdit:!1}},methods:{register(){let e;e=this.formEdit?"/auth/api/user-edit":"/auth/api/registration";let t=new FormData,a=localStorage.getItem("authTokenSimpleCrm");t.append("email",this.credentials.email),t.append("name",this.credentials.name),""!=this.credentials.pass&&t.append("password",this.credentials.pass),t.append("role",this.credentials.role),l.a.post(e,t,{headers:{Authorization:"Bearer "+a}}).then(e=>{this.$toast.open({message:e.data.message,type:"success",position:"top-right"}),this.$router.push({name:"Home"})}).catch(e=>{console.error(e),this.$toast.open({message:e.response.data.message,type:"error",position:"top-right"})})},console(){console.log(this.credentials)}},mounted(){"EditUser"==this.$route.name&&(this.formEdit=!0,l.a.get("/auth/api/get-user/"+this.$route.params.id,{headers:{Authorization:"Bearer "+this.token}}).then(e=>{this.credentials.name=e.data.user.name,this.credentials.role=e.data.user.role,this.credentials.email=e.data.user.email,console.log(this.credentials)}))}},o=n,c=a("2877"),d=Object(c["a"])(o,s,r,!1,null,null,null);t["a"]=d.exports},d6db:function(e,t,a){"use strict";a("e67a")},e67a:function(e,t,a){},fe57:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("main",{staticClass:"col-md-9 ms-sm-auto col-lg-10 px-md-4"},[a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-8"},[a("br"),a("h2",[e._v("User edit")]),a("UserForm",{attrs:{userData:e.data}})],1)])])},r=[],i=a("aa74"),l=(a("bc3a"),{name:"EditUser",components:{UserForm:i["a"]},data(){return{token:localStorage.getItem("authTokenSimpleCrm"),data:null}},beforeMount(){}}),n=l,o=a("2877"),c=Object(o["a"])(n,s,r,!1,null,null,null);t["default"]=c.exports}}]);
//# sourceMappingURL=about.5443b162.js.map